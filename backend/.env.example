# ============================================
# WORKSYNAPSE ENVIRONMENT CONFIGURATION
# ============================================
# Copy this file to .env and fill in your values
# NEVER commit .env to version control!
# ============================================

# ===========================================
# APPLICATION
# ===========================================
PROJECT_NAME=WorkSynapse API
API_V1_STR=/api/v1
DEBUG=false
ENVIRONMENT=development
LOG_LEVEL=INFO

# ===========================================
# SECURITY (REQUIRED - Generate secure values!)
# ===========================================
# Generate with: openssl rand -hex 32
# python -c "import secrets; print(secrets.token_hex(32))"
SECRET_KEY=your-super-secure-secret-key-change-me-in-production

# JWT Algorithm
ALGORITHM=HS256

# Token expiration
ACCESS_TOKEN_EXPIRE_MINUTES=11520
REFRESH_TOKEN_EXPIRE_DAYS=30

# Service-to-service API key
# Generate with: python -c "import secrets; print(secrets.token_hex(24))"
# Generate with: openssl rand -hex 24
SERVICE_API_KEY=your-service-api-key-change-me

# ===========================================
# ENCRYPTION (For LLM API Keys)
# ===========================================
# Optional: Fernet encryption key for LLM API keys
# If not set, will be derived from SECRET_KEY using PBKDF2
# Generate with: python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
FERNET_SECRET_KEY=

# ===========================================
# DATABASE (PostgreSQL)
# ===========================================
POSTGRES_USER=worksynapse_user
POSTGRES_PASSWORD=your_secure_database_password
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=worksynapse

# Optional: Override computed DATABASE_URL
# DATABASE_URL=postgresql+asyncpg://user:pass@host:5432/db

# ===========================================
# REDIS
# ===========================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=your_redis_password
REDIS_DB=0

# Optional: Override computed REDIS_URL
# REDIS_URL=redis://:password@localhost:6379/0

# ===========================================
# RABBITMQ (Message Broker for Celery)
# ===========================================
RABBITMQ_HOST=localhost
RABBITMQ_PORT=5672
RABBITMQ_USER=admin
RABBITMQ_PASSWORD=your_rabbitmq_password
RABBITMQ_VHOST=/

# Optional: Override computed CELERY_BROKER_URL
# CELERY_BROKER_URL=amqp://user:pass@localhost:5672//

# ===========================================
# KAFKA (Event Streaming)
# ===========================================
KAFKA_BOOTSTRAP_SERVERS=localhost:9092
KAFKA_SECURITY_PROTOCOL=PLAINTEXT
# For SASL authentication:
# KAFKA_SASL_MECHANISM=PLAIN
# KAFKA_SASL_USERNAME=kafka_user
# KAFKA_SASL_PASSWORD=kafka_password

# ===========================================
# CORS
# ===========================================
# Comma-separated list of allowed origins
BACKEND_CORS_ORIGINS=http://localhost:3000,http://localhost:5173,http://localhost:80

# ===========================================
# EXTERNAL SERVICES
# ===========================================

# OpenAI (for AI Agents)
OPENAI_API_KEY=sk-your-openai-api-key
OPENAI_MODEL=gpt-4

# Email (SMTP for notifications)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_FROM_EMAIL=noreply@worksynapse.com
SMTP_TLS=true

# ===========================================
# WEBHOOK SECRETS
# ===========================================
# GitHub webhook secret (from GitHub settings)
GITHUB_WEBHOOK_SECRET=your-github-webhook-secret

# Jira webhook secret
JIRA_WEBHOOK_SECRET=your-jira-webhook-secret

# ===========================================
# FILE UPLOADS
# ===========================================
UPLOAD_DIR=app/media/uploads
MAX_UPLOAD_SIZE_MB=10

# ===========================================
# RATE LIMITING
# ===========================================
RATE_LIMIT_REQUESTS_PER_MINUTE=100
RATE_LIMIT_WEBSOCKET_MESSAGES_PER_MINUTE=30

# ===========================================
# GRAFANA (Monitoring)
# ===========================================
GRAFANA_PASSWORD=your-grafana-admin-password
